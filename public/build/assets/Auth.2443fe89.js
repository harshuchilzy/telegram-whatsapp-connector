import{_ as m}from"./AuthenticatedLayout.0d407d43.js";import{j as i,x as w,o as s,c as a,a as d,u as r,w as h,F as f,s as p,H as x,b as e,e as u,t as g}from"./app.40144cbb.js";import{i as _}from"./vue-qrcode.esm.06bc408c.js";const b=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Dashboard ",-1),y={class:"py-12"},k={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 grid grid-cols-2 gap-4"},C={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},j={class:"p-6 bg-white border-b border-gray-200 h-full"},D={key:0,class:"grid grid-cols-2 gap-6 items-center h-full"},E={key:0},L=e("div",{class:"flex justify-center items-center"},[e("div",{class:"spinner-border animate-spin inline-block w-16 h-16 border-4 rounded-full",role:"status"},[e("span",{class:"visually-hidden"},"Loading")])],-1),B=[L],T=e("div",null,[e("h1",{class:"text-lg font-bold"},"Log in to Telegram by QR Code"),e("ol",{class:"text-md font-bold mt-6"},[e("li",null,"Open Telegram on your phone"),e("li",null,"Go to Settings \u2192 Devices \u2192 Link Desktop Device"),e("li",null,"Point your phone at this screen to confirm login"),e("li",null,"Refresh this page after scanning")])],-1),q={key:1,class:"text-center grid grid-cols-2 gap-6 items-center justify-center col-span-2"},N=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#56cc6c",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-20 h-20"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})],-1),S={class:"text-xl bg-green-500 text-white py-2 px-4 text-center rounded-full"},R={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},A={class:"p-6 bg-white bg-[url('../whatsapp-bg.jpeg')] bg-contain bg-repeat h-full border-b border-gray-200"},F={key:0,class:"grid grid-cols-2 gap-6 items-center h-full"},M={key:0},O=e("div",{class:"flex justify-center items-center"},[e("div",{class:"spinner-border animate-spin inline-block w-16 h-16 border-4 rounded-full",role:"status"},[e("span",{class:"visually-hidden"},"Loading")])],-1),P=[O],Q=e("div",null,[e("h1",{class:"text-lg font-bold"},"To use Whatsapp on this system"),e("ol",{class:"text-md font-bold mt-6"},[e("li",null,"Open Whatsapp on your phone"),e("li",null,'Tap "Menu" or "Settings" and select Linked devices'),e("li",null,"Point your phone to this screen to capture the code"),e("li",null,"Refresh this page after scanning")])],-1),W={key:1,class:"text-center grid grid-cols-2 gap-6 items-center justify-center col-span-2"},z=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#56cc6c",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-20 h-20"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})],-1),H={class:"text-xl bg-green-500 text-white py-2 px-4 text-center rounded-full"},J={__name:"Auth",setup(V){const l=i("empty");Echo.channel("whatsapp").listen("WhatsappEvent",t=>{l.value=t.data.qr,console.log(t.data.qr),console.log("QR received")});const o=i({whatsapp:"not connected",telegram:"not connected"});async function v(){let t=await axios.get(p().props.value.telesapp+"/whatsapp/status"),c=await axios.get(p().props.value.telesapp+"/telegram/status");o.value.whatsapp=t.data.status,o.value.telegram=c.data.status,console.log(o.value)}v(),w({phoneNumber:"",phoneCode:""});const n=i("empty");return Echo.channel("telegramChannel").listen("TelegramEvent",t=>{console.log(t.data),t.data.qr!==void 0&&(n.value=t.data.qr)}),(t,c)=>(s(),a(f,null,[d(r(x),{title:"Dashboard"}),d(m,null,{header:h(()=>[b]),default:h(()=>[e("div",y,[e("div",k,[e("div",C,[e("div",j,[o.value.telegram=="not connected"?(s(),a("div",D,[n.value=="empty"?(s(),a("div",E,B)):(s(),u(r(_),{key:1,value:"tg://login?token="+n.value,options:{width:"100%"}},null,8,["value"])),T])):(s(),a("div",q,[N,e("span",S,g(o.value.whatsapp),1)]))])]),e("div",R,[e("div",A,[o.value.whatsapp!=="CONNECTED"?(s(),a("div",F,[l.value=="empty"?(s(),a("div",M,P)):(s(),u(r(_),{key:1,value:l.value,options:{width:"100%"}},null,8,["value"])),Q])):(s(),a("div",W,[z,e("span",H,g(o.value.whatsapp),1)]))])])])])]),_:1})],64))}};export{J as default};
